<script>
  (function(window) {
    'use strict';

    function defineEtoolsLogs() {
      let etoolsLogs = {

        properties: {
          /**
           * Available log levels:
           *    OFF
           *    ERROR
           *    WARN
           *    INFO
           */
          etoolsLogsLevel: {
            type: String,
            value: ''
          }
        },

        _getLogLevel: function() {
          let availableLogLevels = ['OFF', 'ERROR', 'WARN', 'INFO'];
          if (window.EtoolsLogsLevel && availableLogLevels.indexOf(window.EtoolsLogsLevel) === -1) {
            // wrong log level set
            return 'OFF';
          }
          return window.EtoolsLogsLevel || 'OFF';
        },

        _initAndGetLogLevel: function(forceLevelInit) {
          if (!this.etoolsLogsLevel || forceLevelInit) {
            this.etoolsLogsLevel = this._getLogLevel();
          }
          return this.etoolsLogsLevel;
        },

        _getEtoolsLogMessages: function(logPrefix, message, messagePrefix) {
          let currentElementName = this.is ? ('[' + this.is + ']') : '';

          let msg = '[' + logPrefix + ']' + currentElementName;
          if (messagePrefix) {
            msg += '[' + messagePrefix.toString() + '] ';
          }
          msg += message;
          return msg;
        },

        _canLog: function(levels, forceLevelInit) {
          return levels.indexOf(this._initAndGetLogLevel(forceLevelInit)) > -1;
        },

        logError: function(message, messagePrefix, other, forceLevelInit) {
          if (this._canLog(['ERROR', 'WARN', 'INFO'], forceLevelInit)) {
            console.error(this._getEtoolsLogMessages('ERROR', message, messagePrefix), other ? other : ''); // eslint-disable-line
          }
        },

        logWarn: function(message, messagePrefix, other, forceLevelInit) {
          if (this._canLog(['WARN', 'INFO'], forceLevelInit)) {
            console.warn(this._getEtoolsLogMessages('WARN', message, messagePrefix), other ? other : ''); // eslint-disable-line
          }
        },

        logInfo: function(message, messagePrefix, other, forceLevelInit) {
          if (this._canLog(['INFO'], forceLevelInit)) {
            console.log(this._getEtoolsLogMessages('INFO', message, messagePrefix), other ? other : ''); // eslint-disable-line
          }
        }
      };
      return etoolsLogs;
    }

    /** @polymerBehavior EtoolsLogsBehavior */
    window.EtoolsLogsBehavior = window.EtoolsLogsBehavior || defineEtoolsLogs() || {};
    // the || {} at the end is there to make the linter happy
  })(window);
</script>

